/* Src File:"sc-header-footer-responsive/javascript/desktop/header-footer-bootstrap-eb73a10c8a46f0a4f04221db3ffd334f.js" @ Tue Feb 16 2016 19:27:30 GMT+0000 (UTC) Group_ID: com.bestbuy.frontend.browse GIT_BRANCH: origin/release BUILD_CAUSE: local-build Build Version: version-not-found */

/**
 * @license
 * lodash 3.9.3 (Custom Build) <https://lodash.com/>
 * Build: `lodash exports="amd,commonjs" include="each,assign,template,isNumber,bind,debounce,difference,take,filter"`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

(function(){function e(e,t,n){if(t!==t)return o(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function t(e){return"function"==typeof e||!1}function n(e){return"string"==typeof e?e:null==e?"":e+""}function r(e){return en[e]}function i(e){return"\\"+nn[e]}function o(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function a(e){return!!e&&"object"==typeof e}function s(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=at,o[++i]=n);return o}function u(){}function c(){}function l(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Dn,this.__views__=null}function f(e){var t=e?e.length:0;for(this.data={hash:In(null),set:new xn};t--;)this.push(e[t])}function h(e,t){var n=e.data,r="string"==typeof t||Me(t)?n.set.has(t):n.hash[t];return r?0:-1}function p(e){var t=this.data;"string"==typeof e||Me(e)?t.set.add(e):t.hash[e]=!0}function d(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function v(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function m(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function g(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e,t,n,r){return e!==Le&&mn.call(r,n)?e:t}function b(e,t,n){for(var r=-1,i=ar(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==Le||a in e)||(e[a]=u)}return e}function w(e,t){return null==t?e:C(t,ar(t),e)}function C(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function k(e,t,n){var r=typeof e;return"function"==r?t===Le?e:P(e,t,n):null==e?Ke:"object"==r?A(e):t===Le?Je(e):O(e,t)}function x(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==Le)return s;if(!Me(e))return e;var u=rr(e);if(u){if(s=se(e),!t)return d(e,s)}else{var c=gn.call(e),l=c==ht;if(c!=vt&&c!=st&&(!l||i))return Zt[c]?ce(e,c,t):i?e:{};if(ln(e))return i?e:{};if(s=ue(l?{}:e),!t)return w(s,e)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==e)return a[f];return o.push(e),a.push(s),(u?v:T)(e,function(r,i){s[i]=x(r,t,n,i,e,o,a)}),s}function _(t,n){var r=t?t.length:0,i=[];if(!r)return i;var o=-1,a=ie(),s=a==e,u=s&&n.length>=200?Gn(n):null,c=n.length;u&&(a=h,s=!1,n=u);e:for(;++o<r;){var l=t[o];if(s&&l===l){for(var f=c;f--;)if(n[f]===l)continue e;i.push(l)}else a(n,l,0)<0&&i.push(l)}return i}function j(e,t){var n=[];return Ln(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function S(e,t,n){for(var r=-1,i=e.length,o=-1,s=[];++r<i;){var u=e[r];if(a(u)&&le(u)&&(n||rr(u)||Ie(u))){t&&(u=S(u,t,n));for(var c=-1,l=u.length;++c<l;)s[++o]=u[c]}else n||(s[++o]=u)}return s}function T(e,t){return Bn(e,t,ar)}function I(e,t,n){if(null!=e){e=we(e),n!==Le&&n in e&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=we(e)[t[r++]];return r&&r==i?e:Le}}function E(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Me(e)&&!a(t)?e!==e&&t!==t:M(e,t,E,n,r,i,o)}function M(e,t,n,r,i,o,a){var s=rr(e),u=rr(t),c=ut,l=ut;s||(c=gn.call(e),c==st?c=vt:c!=vt&&(s=De(e))),u||(l=gn.call(t),l==st?l=vt:l!=vt&&(u=De(t)));var f=c==vt&&!ln(e),h=l==vt&&!ln(t),p=c==l;if(p&&!s&&!f)return ee(e,t,c);if(!i){var d=f&&mn.call(e,"__wrapped__"),v=h&&mn.call(t,"__wrapped__");if(d||v)return n(d?e.value():e,v?t.value():t,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var g=(s?Z:te)(e,t,n,r,i,o,a);return o.pop(),a.pop(),g}function $(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=we(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],c=a[1];if(o&&a[2]){if(u===Le&&!(s in e))return!1}else{var l=n?n(u,c,s):Le;if(!(l===Le?E(c,u,n,!0):l))return!1}}return!0}function A(e){var t=oe(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:(e=we(e),e[n]===r&&(r!==Le||n in e))}}return function(e){return $(e,t)}}function O(e,t){var n=rr(e),r=pe(e)&&me(t),i=e+"";return e=Ce(e),function(o){if(null==o)return!1;var a=i;if(o=we(o),(n||!r)&&!(a in o)){if(o=1==e.length?o:I(o,U(e,0,-1)),null==o)return!1;a=xe(e),o=we(o)}return o[a]===t?t!==Le||a in o:E(t,o[a],Le,!0)}}function D(e){return function(t){return null==t?Le:we(t)[e]}}function R(e){var t=e+"";return e=Ce(e),function(n){return I(n,e,t)}}function U(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===Le||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function q(e,t){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e[t[n]];return i}function N(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&qn>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return F(e,t,Ke,n)}function F(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===Le;o>i;){var c=Cn((i+o)/2),l=n(e[c]),f=l!==Le,h=l===l;if(a)var p=h||r;else p=s?h&&f&&(r||null!=l):u?h&&(r||f):null==l?!1:r?t>=l:t>l;p?i=c+1:o=c}return An(o,Un)}function P(e,t,n){if("function"!=typeof e)return Ke;if(t===Le)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function z(e){return wn.call(e,0)}function K(e,t,n){for(var r=n.length,i=-1,o=$n(e.length-r,0),a=-1,s=t.length,u=Array(o+s);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function V(e,t,n){for(var r=-1,i=n.length,o=-1,a=$n(e.length-i,0),s=-1,u=t.length,c=Array(a+u);++o<a;)c[o]=e[o];for(var l=o;++s<u;)c[l+s]=t[s];for(;++r<i;)c[l+n[r]]=e[o++];return c}function W(e){return Te(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:Le,a=i>2?n[2]:Le,s=i>1?n[i-1]:Le;for("function"==typeof o?(o=P(o,s,5),i-=2):(o="function"==typeof s?s:Le,i-=o?1:0),a&&he(n[0],n[1],a)&&(o=3>i?Le:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function J(e,t){return function(n,r){var i=n?Qn(n):0;if(!ve(i))return e(n,r);for(var o=t?i:-1,a=we(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function L(e){return function(t,n,r){for(var i=we(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return t}}function B(e,t){function n(){var i=this&&this!==cn&&this instanceof n?r:e;return i.apply(t,arguments)}var r=H(e);return n}function H(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4])}var n=Jn(e.prototype),r=e.apply(n,t);return Me(r)?r:n}}function G(e,t){return function(n,r,i){return"function"==typeof r&&i===Le&&rr(n)?e(n,r):t(n,P(r,i,3))}}function Y(e,t,n,r,i,o,a,u,c,l){function f(){for(var w=arguments.length,C=w,k=Array(w);C--;)k[C]=arguments[C];if(r&&(k=K(k,r,i)),o&&(k=V(k,o,a)),m||y){var x=f.placeholder,_=s(k,x);if(w-=_.length,l>w){var j=u?d(u):null,S=$n(l-w,0),T=m?_:null,I=m?null:_,E=m?k:null,M=m?null:k;t|=m?Ze:et,t&=~(m?et:Ze),g||(t&=~(He|Ge));var $=[e,t,n,E,T,M,I,j,c,S],A=Y.apply(Le,$);return de(e)&&Xn(A,$),A.placeholder=x,A}}var O=p?n:this,D=v?O[e]:e;return u&&(k=ye(k,u)),h&&c<k.length&&(k.length=c),this&&this!==cn&&this instanceof f&&(D=b||H(e)),D.apply(O,k)}var h=t&tt,p=t&He,v=t&Ge,m=t&Qe,g=t&Ye,y=t&Xe,b=v?null:H(e);return f}function Q(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,c=r.length,l=Array(s+c);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++t];var f=this&&this!==cn&&this instanceof i?a:e;return f.apply(o?n:this,l)}var o=t&He,a=H(e);return i}function X(e,t,n,r,i,o,a,s){var u=t&Ge;if(!u&&"function"!=typeof e)throw new TypeError(ot);var c=r?r.length:0;if(c||(t&=~(Ze|et),r=i=null),c-=i?i.length:0,t&et){var l=r,f=i;r=i=null}var h=u?null:Yn(e),p=[e,t,n,r,i,l,f,o,a,s];if(h&&(ge(p,h),t=p[1],s=p[9]),p[9]=null==s?u?0:e.length:$n(s-c,0)||0,t==He)var d=B(p[0],p[2]);else d=t!=Ze&&t!=(He|Ze)||p[4].length?Y.apply(Le,p):Q.apply(Le,p);var v=h?Hn:Xn;return v(d,p)}function Z(e,t,n,r,i,o,a){var s=-1,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;for(;++s<u;){var l=e[s],f=t[s],h=r?r(i?f:l,i?l:f,s):Le;if(h!==Le){if(h)continue;return!1}if(i){if(!g(t,function(e){return l===e||n(l,e,r,i,o,a)}))return!1}else if(l!==f&&!n(l,f,r,i,o,a))return!1}return!0}function ee(e,t,n){switch(n){case ct:case lt:return+e==+t;case ft:return e.name==t.name&&e.message==t.message;case dt:return e!=+e?t!=+t:e==+t;case mt:case yt:return e==t+""}return!1}function te(e,t,n,r,i,o,a){var s=ar(e),u=s.length,c=ar(t),l=c.length;if(u!=l&&!i)return!1;for(var f=u;f--;){var h=s[f];if(!(i?h in t:mn.call(t,h)))return!1}for(var p=i;++f<u;){h=s[f];var d=e[h],v=t[h],m=r?r(i?v:d,i?d:v,h):Le;if(!(m===Le?n(d,v,r,i,o,a):m))return!1;p||(p="constructor"==h)}if(!p){var g=e.constructor,y=t.constructor;if(g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function ne(e,t,n){var r=u.callback||Pe;return r=r===Pe?k:r,n?r(e,t,n):r}function re(e){for(var t=e.name,n=zn[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ie(t,n,r){var i=u.indexOf||ke;return i=i===ke?e:i,t?i(t,n,r):i}function oe(e){for(var t=Ue(e),n=t.length;n--;)t[n][2]=me(t[n][1]);return t}function ae(e,t){var n=null==e?Le:e[t];return $e(n)?n:Le}function se(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&mn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ue(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}function ce(e,t,n){var r=e.constructor;switch(t){case wt:return z(e);case ct:case lt:return new r(+e);case Ct:case kt:case xt:case _t:case jt:case St:case Tt:case It:case Et:r instanceof r&&(r=Kn[t]);var i=e.buffer;return new r(n?z(i):i,e.byteOffset,e.length);case dt:case yt:return new r(e);case mt:var o=new r(e.source,Jt.exec(e));o.lastIndex=e.lastIndex}return o}function le(e){return null!=e&&ve(Qn(e))}function fe(e,t){return e="number"==typeof e||Bt.test(e)?+e:-1,t=null==t?Fn:t,e>-1&&e%1==0&&t>e}function he(e,t,n){if(!Me(n))return!1;var r=typeof t;if("number"==r?le(n)&&fe(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function pe(e,t){var n=typeof e;if("string"==n&&Ft.test(e)||"number"==n)return!0;if(rr(e))return!1;var r=!Nt.test(e);return r||null!=t&&e in we(t)}function de(e){var t=re(e);if(!(t in l.prototype))return!1;var n=u[t];if(e===n)return!0;var r=Yn(n);return!!r&&e===r[0]}function ve(e){return"number"==typeof e&&e>-1&&e%1==0&&Fn>=e}function me(e){return e===e&&!Me(e)}function ge(e,t){var n=e[1],r=t[1],i=n|r,o=tt>i,a=r==tt&&n==Qe||r==tt&&n==nt&&e[7].length<=t[8]||r==(tt|nt)&&n==Qe;if(!o&&!a)return e;r&He&&(e[2]=t[2],i|=n&He?0:Ye);var u=t[3];if(u){var c=e[3];e[3]=c?K(c,u,t[4]):d(u),e[4]=c?s(e[3],at):d(t[4])}return u=t[5],u&&(c=e[5],e[5]=c?V(c,u,t[6]):d(u),e[6]=c?s(e[5],at):d(t[6])),u=t[7],u&&(e[7]=d(u)),r&tt&&(e[8]=null==e[8]?t[8]:An(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ye(e,t){for(var n=e.length,r=An(t.length,n),i=d(e);r--;){var o=t[r];e[r]=fe(o,n)?i[o]:Le}return e}function be(e){for(var t=Re(e),n=t.length,r=n&&e.length,i=!!r&&ve(r)&&(rr(e)||Ie(e)||Oe(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&fe(s,r)||mn.call(e,s))&&a.push(s)}return a}function we(e){if(u.support.unindexedChars&&Oe(e)){for(var t=-1,n=e.length,r=Object(e);++t<n;)r[t]=e.charAt(t);return r}return Me(e)?e:Object(e)}function Ce(e){if(rr(e))return e;var t=[];return n(e).replace(Pt,function(e,n,r,i){t.push(r?i.replace(Vt,"$1"):n||e)}),t}function ke(t,n,r){var i=t?t.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?$n(i+r,0):r;else if(r){var o=N(t,n),a=t[o];return(n===n?n===a:a!==a)?o:-1}return e(t,n,r||0)}function xe(e){var t=e?e.length:0;return t?e[t-1]:Le}function _e(e,t,n){var r=e?e.length:0;return r?((n?he(e,t,n):null==t)&&(t=1),U(e,0,0>t?0:t)):[]}function je(e,t,n){var r=rr(e)?m:j;return t=ne(t,n,3),r(e,t)}function Se(e,t,n){function r(){h&&clearTimeout(h),u&&clearTimeout(u),u=h=p=Le}function i(){var n=t-(tr()-l);if(0>=n||n>t){u&&clearTimeout(u);var r=p;u=h=p=Le,r&&(d=tr(),c=e.apply(f,s),h||u||(s=f=null))}else h=setTimeout(i,n)}function o(){h&&clearTimeout(h),u=h=p=Le,(m||v!==t)&&(d=tr(),c=e.apply(f,s),h||u||(s=f=null))}function a(){if(s=arguments,l=tr(),f=this,p=m&&(h||!g),v===!1)var n=g&&!h;else{u||g||(d=l);var r=v-(l-d),a=0>=r||r>v;a?(u&&(u=clearTimeout(u)),d=l,c=e.apply(f,s)):u||(u=setTimeout(o,r))}return a&&h?h=clearTimeout(h):h||t===v||(h=setTimeout(i,t)),n&&(a=!0,c=e.apply(f,s)),!a||h||u||(s=f=null),c}var s,u,c,l,f,h,p,d=0,v=!1,m=!0;if("function"!=typeof e)throw new TypeError(ot);if(t=0>t?0:+t||0,n===!0){var g=!0;m=!1}else Me(n)&&(g=n.leading,v="maxWait"in n&&$n(+n.maxWait||0,t),m="trailing"in n?n.trailing:m);return a.cancel=r,a}function Te(e,t){if("function"!=typeof e)throw new TypeError(ot);return t=$n(t===Le?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=$n(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function Ie(e){return a(e)&&le(e)&&gn.call(e)==st}function Ee(e){return a(e)&&"string"==typeof e.message&&gn.call(e)==ft}function Me(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $e(e){return null==e?!1:gn.call(e)==ht?yn.test(vn.call(e)):a(e)&&(ln(e)?yn:Lt).test(e)}function Ae(e){return"number"==typeof e||a(e)&&gn.call(e)==dt}function Oe(e){return"string"==typeof e||a(e)&&gn.call(e)==yt}function De(e){return a(e)&&ve(e.length)&&!!Xt[gn.call(e)]}function Re(e){if(null==e)return[];Me(e)||(e=Object(e));var t=e.length,n=u.support;t=t&&ve(t)&&(rr(e)||Ie(e)||Oe(e))&&t||0;for(var r=e.constructor,i=-1,o=ir(r)&&r.prototype||pn,a=o===e,s=Array(t),c=t>0,l=n.enumErrorProps&&(e===hn||e instanceof Error),f=n.enumPrototypes&&ir(e);++i<t;)s[i]=i+"";for(var h in e)f&&"prototype"==h||l&&("message"==h||"name"==h)||c&&fe(h,t)||"constructor"==h&&(a||!mn.call(e,h))||s.push(h);if(n.nonEnumShadows&&e!==pn){var p=e===dn?yt:e===hn?ft:gn.call(e),d=Vn[p]||Vn[vt];for(p==vt&&(o=pn),t=Yt.length;t--;){h=Yt[t];var v=d[h];a&&v||(v?!mn.call(e,h):e[h]===o[h])||s.push(h)}}return s}function Ue(e){e=we(e);for(var t=-1,n=ar(e),r=n.length,i=Array(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function qe(e){return e=n(e),e&&Dt.test(e)?e.replace(Ot,r):e}function Ne(e){return e=n(e),e&&Kt.test(e)?e.replace(zt,"\\$&"):e}function Fe(e,t,r){var o=u.templateSettings;r&&he(e,t,r)&&(t=r=null),e=n(e),t=b(w({},r||t),o,y);var a,s,c=b(w({},t.imports),o.imports,y),l=ar(c),f=q(c,l),h=0,p=t.interpolate||Ht,d="__p += '",v=RegExp((t.escape||Ht).source+"|"+p.source+"|"+(p===qt?Wt:Ht).source+"|"+(t.evaluate||Ht).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Qt+"]")+"\n";e.replace(v,function(t,n,r,o,u,c){return r||(r=o),d+=e.slice(h,c).replace(Gt,i),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),u&&(s=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=c+t.length,t}),d+="';\n";var g=t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(Mt,""):d).replace($t,"$1").replace(At,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var C=sr(function(){return Function(l,m+"return "+d).apply(Le,f)});if(C.source=d,Ee(C))throw C;return C}function Pe(e,t,n){return n&&he(e,t,n)&&(t=null),a(e)?Ve(e):k(e,t)}function ze(e){return function(){return e}}function Ke(e){return e}function Ve(e){return A(x(e,!0))}function We(){}function Je(e){return pe(e)?D(e):R(e)}var Le,Be="3.9.3",He=1,Ge=2,Ye=4,Qe=8,Xe=16,Ze=32,et=64,tt=128,nt=256,rt=150,it=16,ot="Expected a function",at="__lodash_placeholder__",st="[object Arguments]",ut="[object Array]",ct="[object Boolean]",lt="[object Date]",ft="[object Error]",ht="[object Function]",pt="[object Map]",dt="[object Number]",vt="[object Object]",mt="[object RegExp]",gt="[object Set]",yt="[object String]",bt="[object WeakMap]",wt="[object ArrayBuffer]",Ct="[object Float32Array]",kt="[object Float64Array]",xt="[object Int8Array]",_t="[object Int16Array]",jt="[object Int32Array]",St="[object Uint8Array]",Tt="[object Uint8ClampedArray]",It="[object Uint16Array]",Et="[object Uint32Array]",Mt=/\b__p \+= '';/g,$t=/\b(__p \+=) '' \+/g,At=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/[&<>"'`]/g,Dt=RegExp(Ot.source),Rt=/<%-([\s\S]+?)%>/g,Ut=/<%([\s\S]+?)%>/g,qt=/<%=([\s\S]+?)%>/g,Nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ft=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,zt=/[.*+?^${}()|[\]\/\\]/g,Kt=RegExp(zt.source),Vt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jt=/\w*$/,Lt=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,Ht=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Qt=-1,Xt={};Xt[Ct]=Xt[kt]=Xt[xt]=Xt[_t]=Xt[jt]=Xt[St]=Xt[Tt]=Xt[It]=Xt[Et]=!0,Xt[st]=Xt[ut]=Xt[wt]=Xt[ct]=Xt[lt]=Xt[ft]=Xt[ht]=Xt[pt]=Xt[dt]=Xt[vt]=Xt[mt]=Xt[gt]=Xt[yt]=Xt[bt]=!1;var Zt={};Zt[st]=Zt[ut]=Zt[wt]=Zt[ct]=Zt[lt]=Zt[Ct]=Zt[kt]=Zt[xt]=Zt[_t]=Zt[jt]=Zt[dt]=Zt[vt]=Zt[mt]=Zt[yt]=Zt[St]=Zt[Tt]=Zt[It]=Zt[Et]=!0,Zt[ft]=Zt[ht]=Zt[pt]=Zt[gt]=Zt[bt]=!1;var en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},tn={"function":!0,object:!0},nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rn=tn[typeof exports]&&exports&&!exports.nodeType&&exports,on=tn[typeof module]&&module&&!module.nodeType&&module,an=rn&&on&&"object"==typeof global&&global&&global.Object&&global,sn=tn[typeof self]&&self&&self.Object&&self,un=tn[typeof window]&&window&&window.Object&&window,cn=an||un!==(this&&this.window)&&un||sn||this,ln=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}(),fn=Array.prototype,hn=Error.prototype,pn=Object.prototype,dn=String.prototype,vn=Function.prototype.toString,mn=pn.hasOwnProperty,gn=pn.toString,yn=RegExp("^"+Ne(vn.call(mn)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bn=ae(cn,"ArrayBuffer"),wn=ae(bn&&new bn(0),"slice"),Cn=Math.floor,kn=pn.propertyIsEnumerable,xn=ae(cn,"Set"),_n=fn.splice,jn=ae(cn,"Uint8Array"),Sn=ae(cn,"WeakMap"),Tn=function(){try{var e=ae(cn,"Float64Array"),t=new e(new bn(10),0,1)&&e}catch(n){}return t||null}(),In=ae(Object,"create"),En=ae(Array,"isArray"),Mn=ae(Object,"keys"),$n=Math.max,An=Math.min,On=ae(Date,"now"),Dn=Number.POSITIVE_INFINITY,Rn=4294967295,Un=Rn-1,qn=Rn>>>1,Nn=Tn?Tn.BYTES_PER_ELEMENT:0,Fn=9007199254740991,Pn=Sn&&new Sn,zn={},Kn={};Kn[Ct]=cn.Float32Array,Kn[kt]=cn.Float64Array,Kn[xt]=cn.Int8Array,Kn[_t]=cn.Int16Array,Kn[jt]=cn.Int32Array,Kn[St]=cn.Uint8Array,Kn[Tt]=cn.Uint8ClampedArray,Kn[It]=cn.Uint16Array,Kn[Et]=cn.Uint32Array;var Vn={};Vn[ut]=Vn[lt]=Vn[dt]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Vn[ct]=Vn[yt]={constructor:!0,toString:!0,valueOf:!0},Vn[ft]=Vn[ht]=Vn[mt]={constructor:!0,toString:!0},Vn[vt]={constructor:!0},v(Yt,function(e){for(var t in Vn)if(mn.call(Vn,t)){var n=Vn[t];n[e]=mn.call(n,e)}});var Wn=u.support={};!function(e){var t=function(){this.x=e},n={0:e,length:e},r=[];t.prototype={valueOf:e,y:e};for(var i in new t)r.push(i);Wn.argsTag=gn.call(arguments)==st,Wn.enumErrorProps=kn.call(hn,"message")||kn.call(hn,"name"),Wn.enumPrototypes=kn.call(t,"prototype"),Wn.nonEnumShadows=!/valueOf/.test(r),Wn.spliceObjects=(_n.call(n,0,1),!n[0]),Wn.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),u.templateSettings={escape:Rt,evaluate:Ut,interpolate:qt,variable:"",imports:{_:u}};var Jn=function(){function e(){}return function(t){if(Me(t)){e.prototype=t;var n=new e;e.prototype=null}return n||{}}}(),Ln=J(T),Bn=L(),Hn=Pn?function(e,t){return Pn.set(e,t),e}:Ke;wn||(z=bn&&jn?function(e){var t=e.byteLength,n=Tn?Cn(t/Nn):0,r=n*Nn,i=new bn(t);if(n){var o=new Tn(i,0,n);o.set(new Tn(e,0,n))}return t!=r&&(o=new jn(i,r),o.set(new jn(e,r))),i}:ze(null));var Gn=In&&xn?function(e){return new f(e)}:ze(null),Yn=Pn?function(e){return Pn.get(e)}:We,Qn=D("length"),Xn=function(){var e=0,t=0;return function(n,r){var i=tr(),o=it-(i-t);if(t=i,o>0){if(++e>=rt)return n}else e=0;return Hn(n,r)}}(),Zn=Te(function(e,t){return le(e)?_(e,S(t,!1,!0)):[]}),er=G(v,Ln),tr=On||function(){return(new Date).getTime()},nr=Te(function(e,t,n){var r=He;if(n.length){var i=s(n,nr.placeholder);r|=Ze}return X(e,r,t,n,i)});Wn.argsTag||(Ie=function(e){return a(e)&&le(e)&&mn.call(e,"callee")&&!kn.call(e,"callee")});var rr=En||function(e){return a(e)&&ve(e.length)&&gn.call(e)==ut},ir=t(/x/)||jn&&!t(jn)?function(e){return gn.call(e)==ht}:t,or=W(function(e,t,n){return n?b(e,t,n):w(e,t)}),ar=Mn?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?u.support.enumPrototypes:le(e))?be(e):Me(e)?Mn(e):[]}:be,sr=Te(function(e,t){try{return e.apply(Le,t)}catch(n){return Ee(n)?n:new Error(n)}});l.prototype=Jn(c.prototype),l.prototype.constructor=l,f.prototype.push=p,u.assign=or,u.bind=nr,u.callback=Pe,u.constant=ze,u.debounce=Se,u.difference=Zn,u.filter=je,u.forEach=er,u.keys=ar,u.keysIn=Re,u.matches=Ve,u.pairs=Ue,u.property=Je,u.restParam=Te,u.take=_e,u.each=er,u.extend=or,u.iteratee=Pe,u.select=je,u.attempt=sr,u.escape=qe,u.escapeRegExp=Ne,u.identity=Ke,u.indexOf=ke,u.isArguments=Ie,u.isArray=rr,u.isError=Ee,u.isFunction=ir,u.isNative=$e,u.isNumber=Ae,u.isObject=Me,u.isString=Oe,u.isTypedArray=De,u.last=xe,u.noop=We,u.now=tr,u.template=Fe,u.VERSION=Be,nr.placeholder=u,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("sc-header-footer-responsive/javascript/lib/lodash.custom",[],function(){return u}):rn&&on&&(rn._=u)}).call(this),define("sc-header-footer-responsive/javascript/lib/menuAim",["require","jquery"],function(e){var t=e("jquery"),n=function(e){var n=t(this),r=null,i=[],o=null,a=null,s=t.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:t.noop,exit:t.noop,activate:t.noop,deactivate:t.noop,exitMenu:t.noop},e),u=3,c=300,l=function(e){i.push({x:e.pageX,y:e.pageY}),i.length>u&&i.shift()},f=function(){a&&clearTimeout(a),s.exitMenu(this)&&(r&&s.deactivate(r),r=null)},h=function(){a&&clearTimeout(a),s.enter(this),m(this)},p=function(){s.exit(this)},d=function(){v(this)},v=function(e){e!=r&&(r&&s.deactivate(r),s.activate(e),r=e)},m=function(e){var t=g();t?a=setTimeout(function(){m(e)},t):v(e)},g=function(){function e(e,t){return(t.y-e.y)/(t.x-e.x)}if(!r||!t(r).is(s.submenuSelector))return 0;var a=n.offset(),u={x:a.left,y:a.top-s.tolerance},l={x:a.left+n.outerWidth(),y:u.y},f={x:a.left,y:a.top+n.outerHeight()+s.tolerance},h={x:a.left+n.outerWidth(),y:f.y},p=i[i.length-1],d=i[0];if(!p)return 0;if(d||(d=p),d.x<a.left||d.x>h.x||d.y<a.top||d.y>h.y)return 0;if(o&&p.x==o.x&&p.y==o.y)return 0;var v=l,m=h;"left"==s.submenuDirection?(v=f,m=u):"below"==s.submenuDirection?(v=h,m=f):"above"==s.submenuDirection&&(v=u,m=l);var g=e(p,v),y=e(p,m),b=e(d,v),w=e(d,m);return b>g&&y>w?(o=p,c):(o=null,0)};n.mouseleave(f).find(s.rowSelector).mouseenter(h).mouseleave(p).click(d),t(document).mousemove(l)};return{init:n}}),define("sc-header-footer-responsive/javascript/lib/cookieManager",["require"],function(e){function t(e){e+="=";for(var t=document.cookie.split(";"),n=0;n<t.length;n++){for(var r=t[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return decodeURIComponent(r.substring(e.length,r.length))}return null}function n(e,t,n,r){var i,o="";if("string"==typeof r&&(o="; domain="+r),"session"===n)i="";else{var a=new Date;"number"!=typeof n?a.setDate(a.getDate()+365):a.setDate(a.getDate()+n),i=a.toGMTString()}document.cookie=e+"="+encodeURIComponent(t)+"; expires="+i+o+"; path=/;"}function r(e){n(e,"",-1)}var i={get:t,set:n,"delete":r};return i}),define("sc-header-footer-responsive/javascript/auto-complete/SuggestionModel",["require","backbone"],function(e){var t=e("backbone"),n=t.Model.extend({initialize:function(){},defaults:{term:"",category:[]}});return n}),define("sc-header-footer-responsive/javascript/auto-complete/SuggestionCollection",["require","backbone","sc-header-footer-responsive/javascript/auto-complete/SuggestionModel"],function(e){var t=e("backbone"),n=e("sc-header-footer-responsive/javascript/auto-complete/SuggestionModel"),r=t.Collection.extend({initialize:function(e){e=e||{},this.channel=e.channel,this.count=e.count||10},model:n,url:function(){return window.bbyDomainVariable?window.bbyDomainVariable+"api/1.0/fragment/search/suggest/"+this.channel+"?query="+this.query+"&count="+this.count:"/api/1.0/fragment/search/suggest/"+this.channel+"?query="+this.query+"&count="+this.count},fetch:function(e){return e.query&&(this.query=encodeURIComponent(e.query)),e.count&&(this.count=e.count),e.reset=!0,t.Collection.prototype.fetch.apply(this,arguments)},parse:function(e){return e.suggestionResponse&&e.suggestionResponse.suggestions||[]}});return r}),define("sc-header-footer-responsive/javascript/auto-complete/SuggestionsView",["require","jquery","sc-header-footer-responsive/javascript/lib/lodash.custom","eventmanager","sc-header-footer-responsive/javascript/auto-complete/SuggestionCollection"],function(e){var t=e("jquery"),n=e("sc-header-footer-responsive/javascript/lib/lodash.custom"),r=e("eventmanager"),i=e("sc-header-footer-responsive/javascript/auto-complete/SuggestionCollection"),o=n.template('<div class="autocomplete-container">  <ul class="suggestion-list">    <% _.each(suggestions, function(suggestion) { %>  		<% if (suggestion.category && suggestion.category.length) { %>    	<li class="category" title="<%= encodeURIComponent(suggestion.term) %>"><%= highlightText(suggestion.term, query) %> <span class="in-text">in</span> <span class="category-name">${suggestion.category[0].name}</span></li>  		<% } else { %>    	<li title="<%= encodeURIComponent(suggestion.term) %>"><%= highlightText(suggestion.term, query) %></li>		<% } %>    <% }); %>  </ul></div>'),a=function(e,t){return e.replace(t,'<span class="highlight-text">'+t+"</span>")},s=Backbone.View.extend({channel:"www",totalCount:10,uniqueTerms:!0,$input:null,$menu:null,initialize:function(e){e=e||{},this.totalCount=n.isNumber(e.totalCount)&&e.totalCount>0?e.totalCount:this.totalCount,this.uniqueTerms=e.uniqueTerms||!1,this.channel=e.channel||this.channel,this.selectItemCallback=e.onSelectItem||t.noop,this.onKeyUpCallback=e.onKeyUpOptions||t.noop,this.initialSetup(),r.trigger("autoComplete:init",this.$input.attr("id"))},initialSetup:function(){this.$input=this.$el.addClass("autocomplete-enabled").attr("autocomplete","off"),this.$input.length&&(this.$menu=t('<div id="autocompleteContainer"></div>'),this.$input.after(this.$menu),this.$menu.on("mouseenter","li",n.bind(this.mouseenter,this)),this.$menu.on("mousedown","li",n.bind(this.mousedown,this))),this.collection=new i({count:this.totalCount,channel:this.channel}),this.listenTo(this.collection,"reset",this.renderSuggestions),this.inputChangeDebounced=n.debounce(n.bind(this.inputChange,this),300)},events:{focus:"focus",blur:"blur",keyup:"keyup",keypress:"keypress",keydown:"keydown"},render:function(){return this.$input.length&&this.renderMenu(this.$input.val()),this},renderMenu:function(e){e&&e.length>1?this.collection.fetch({query:e}):this.clearMenu()},renderSuggestions:function(){var e=this.collection.toJSON();e&&e.length?(this.$menu.html(o(n.assign(this.generateModel(e),{highlightText:a}))),this.showMenu()):(this.clearMenu(),r.trigger("autoComplete:noSuggestions",this.collection.query))},generateModel:function(e){return{query:this.collection.query,suggestions:e}},showMenu:function(){this.shown=!0,this.$menu.css({width:this.$input.width(),top:this.$input.outerHeight()}).show()},clearMenu:function(){this.shown=!1,this.$menu.empty()},focus:function(e){this.clearMenu()},blur:function(e){this.clearMenu()},inputChange:function(e){this.renderMenu(e)},mouseenter:function(e){this.activateItem(t(e.currentTarget))},mousedown:function(e){this.selectItem(!0,t(e.currentTarget))},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:case 37:case 39:case 32:case 9:case 91:break;case 13:this.selectItem(!0);break;case 27:if(!this.shown)return;this.clearMenu();break;default:if(65===e.keyCode&&e.ctrlKey)break;e.stopPropagation(),e.preventDefault(),this.onKeyUpCallback(e),this.inputChangeDebounced(this.$input.val())}e.stopPropagation(),e.preventDefault()},keydown:function(e){return 9==e.keyCode?void this.selectItem(!1):(this.suppressKeyPress=t.inArray(e.keyCode,[40,38,13]),void this.moveFocus(e))},keypress:function(e){return this.suppressKeyPress>=0?!1:void this.moveFocus(e)},moveFocus:function(e){if(this.shown){switch(e.keyCode){case 38:if(e.shiftKey)break;e.preventDefault(),this.prevItem();break;case 40:e.preventDefault(),this.nextItem()}e.stopPropagation()}},activateItem:function(e){this.$menu.find("li").removeClass("selected"),t(e).addClass("selected")},selectItem:function(e,t){if(t&&t.length||(t=this.$menu.find(".selected")),t.length){var n=this.collection.findWhere({term:decodeURIComponent(t.attr("title"))}).toJSON();this.selectItemCallback(n,e),r.trigger("autoComplete:selected",{query:this.collection.query,item:n})}else this.selectItemCallback(!1,e);this.clearMenu()},prevItem:function(){var e=this.$menu.find(".selected"),t=e.prev();t.length?this.activateItem(t):this.clearMenu()},nextItem:function(){var e=this.$menu.find(".selected");if(e.length){var t=e.next();t.length&&this.activateItem(t)}else this.activateItem(this.$menu.find("li").first())}});return s}),define("sc-libraries/javascript/sc-persistence-manager/javascript/handlers/cookies",["require","bluebird"],function(e){function t(e){return e.replace(/^\s+|\s+$/g,"")}function n(){}var r=e("bluebird"),i=/(\..*\..*)$/;return n.prototype.init=function(){return r.resolve()},n.prototype.get=function(e){var n=document.cookie.split(";"),i=null;for(var o in n){var a=n[o].split("=");if(decodeURIComponent(t(a[0]))===e){i=decodeURIComponent(a[1]);break}}return r.resolve(JSON.parse(i))},n.prototype.set=function(e,t,n){var i=this;return this.get(e).then(function(o){return null!==o?document.cookie=i._argsToCookieString(e,t,n,o.meta.CreatedAt):document.cookie=i._argsToCookieString(e,t,n),r.resolve()})},n.prototype.remove=function(e,t){t=t||{};var n,o=t.path||"/",a="path="+o+"; ";try{n=t.domain||i.exec(window.location.host)[1],n=n.split(":")[0]}catch(s){n=".bestbuy.com"}var u="domain="+n+"; ";return document.cookie=encodeURIComponent(e)+"=; Expires=Thu, 01 Jan 1970 00:00:00 GMT; "+a+u,r.resolve()},n.prototype._argsToCookieString=function(e,t,n,r){n=n||{},n.ttl&&(n.expires=n.ttl);var o={};o.value=t,o.meta={},o.meta.CreatedAt=r||new Date,o.meta.ModifiedAt=new Date;var a,s=n.path||"/",u=s?"path="+s+"; ":"";try{a=n.domain||i.exec(window.location.host)[1],a=a.split(":")[0]}catch(c){a=".bestbuy.com"}var l,f=a?"domain="+a+"; ":"",h=n.secure||!1,p=h?"secure; ":"";if(n.expires){if("number"!=typeof n.expires)throw new Error("Expires must be a number");l=new Date(Date.now()+60*Math.ceil(n.expires)*1e3)}n.ExpiresAt&&(l=n.ExpiresAt),o.meta.ExpiresAt=l;var d=l?"Expires="+l.toUTCString()+"; ":"",v=encodeURIComponent(e)+"="+encodeURIComponent(JSON.stringify(o))+"; "+d+u+f+p;return v},new n}),!function(e,t){"function"==typeof define&&define.amd?define("sc-libraries/javascript/sc-persistence-manager/javascript/lscache/lscache.min",[],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.lscache=t()}(this,function(){function e(){var e="__lscachetest__",n=e;if(void 0!==h)return h;try{a(e,n),s(e),h=!0}catch(r){h=t(r)?!0:!1}return h;
}function t(e){return e&&"QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name?!0:!1}function n(){return void 0===p&&(p=null!=window.JSON),p}function r(e){return e+v}function i(){return Math.floor((new Date).getTime()/g)}function o(e){return localStorage.getItem(d+b+e)}function a(e,t){localStorage.removeItem(d+b+e),localStorage.setItem(d+b+e,t)}function s(e){localStorage.removeItem(d+b+e)}function u(e){for(var t=new RegExp("^"+d+b+"(.*)"),n=localStorage.length-1;n>=0;--n){var i=localStorage.key(n);i=i&&i.match(t),i=i&&i[1],i&&i.indexOf(v)<0&&e(i,r(i))}}function c(e){var t=r(e);s(e),s(t)}function l(e){var t=r(e),n=o(t);if(n){var a=parseInt(n,m);if(i()>=a)return s(e),s(t),!0}}function f(e,t){w&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),t&&window.console.warn("lscache - The error was: "+t.message))}var h,p,d="lscache-",v="-cacheexpiration",m=10,g=6e4,y=Math.floor(864e13/g),b="",w=!1,C={set:function(l,h,p){if(e()){if("string"!=typeof h){if(!n())return;try{h=JSON.stringify(h)}catch(d){return}}try{a(l,h)}catch(d){if(!t(d))return void f("Could not add item with key '"+l+"'",d);var v,g=[];u(function(e,t){var n=o(t);n=n?parseInt(n,m):y,g.push({key:e,size:(o(e)||"").length,expiration:n})}),g.sort(function(e,t){return t.expiration-e.expiration});for(var b=(h||"").length;g.length&&b>0;)v=g.pop(),f("Cache is full, removing item with key '"+l+"'"),c(v.key),b-=v.size;try{a(l,h)}catch(d){return void f("Could not add item with key '"+l+"', perhaps it's too big?",d)}}p?a(r(l),(i()+p).toString(m)):s(r(l))}},get:function(t){if(!e())return null;if(l(t))return null;var r=o(t);if(!r||!n())return r;try{return JSON.parse(r)}catch(i){return r}},remove:function(t){e()&&c(t)},supported:function(){return e()},flush:function(){e()&&u(function(e){c(e)})},flushExpired:function(){e()&&u(function(e){l(e)})},setBucket:function(e){b=e},resetBucket:function(){b=""},enableWarnings:function(e){w=e}};return C}),define("sc-libraries/javascript/sc-persistence-manager/javascript/handlers/local-storage",["require","bluebird","lodash","sc-persistence-manager/javascript/lscache/lscache.min"],function(e){function t(){}function n(e){for(var e=JSON.stringify(e),n=0;n<t.validators.length;n++)if(t.validators[n].regex.test(e))return new Error(t.validators[n].message)}var r=e("bluebird"),i=(e("lodash"),e("sc-persistence-manager/javascript/lscache/lscache.min"));return i.setBucket("PM"),t.prototype.init=function(){try{return i.supported()?(window.sessionStorage.setItem("test","1"),window.sessionStorage.removeItem("test"),r.resolve()):r.reject(new Error("Not Supported"))}catch(e){return r.reject(new Error("Not Supported"))}},t.prototype.get=function(e){var t=sessionStorage.getItem(encodeURIComponent(e));return t?r.resolve(JSON.parse(decodeURIComponent(t))):(t=i.get(encodeURIComponent(e)),r.resolve(JSON.parse(decodeURIComponent(t))))},t.prototype.set=function(e,t,o){var a,s=this,u=n(t);return u?r.reject(u):this.get(e).then(function(n){return a=null!==n?s._argsToLocalStorageObject(e,t,o,n.meta.CreatedAt):s._argsToLocalStorageObject(e,t,o),a.expires?i.set(a.key,a.value,a.expires):sessionStorage.setItem(a.key,a.value),r.resolve()})},t.prototype.remove=function(e,t){return sessionStorage.removeItem(encodeURIComponent(e)),r.resolve(i.remove(encodeURIComponent(e)))},t.prototype._argsToLocalStorageObject=function(e,t,n,r){n=n||{},n.ttl&&(n.expires=n.ttl);var i={};i.value=t,i.meta={},i.meta.CreatedAt=r||new Date,i.meta.ModifiedAt=new Date;var o;if(n.expires){if("number"!=typeof n.expires)throw new Error("Expires must be a number");o=Math.ceil(n.expires)}return n.ExpiresAt&&(o=new Date(n.ExpiresAt)-Date.now()),i.meta.ExpiresAt=o?new Date(Date.now()+60*Math.ceil(o)*1e3):null,o?{key:encodeURIComponent(e),value:encodeURIComponent(JSON.stringify(i)),expires:o}:{key:encodeURIComponent(e),value:encodeURIComponent(JSON.stringify(i)),expires:void 0}},t.validators=[{regex:/\d{4,}-?\d{4,}-?\d{4,}-?\d{4,}/,message:"Cannot store strings that look like credit card numbers"},{regex:/\S+@\S+\.\S+/i,message:"Cannot store email addresses"},{regex:/\d{3}-\d{2}-\d{4}/i,message:"Cannot store ssn"}],new t}),define("persistence-manager",["require","lodash","bluebird","sc-persistence-manager/javascript/handlers/cookies","sc-persistence-manager/javascript/handlers/local-storage"],function(e){function t(e){this._handler=null,this._ready=r.defer(),this.ready=this._ready.promise,this._initializeAttempted=!1,this._initialized=!1,this._config=e||{},this._config.order=this._config.order||["localStorage","cookies"]}var n=e("lodash"),r=e("bluebird"),i={cookies:e("sc-persistence-manager/javascript/handlers/cookies"),localStorage:e("sc-persistence-manager/javascript/handlers/local-storage")};return t.prototype._init=function(){if(this._initializeAttempted)return this.ready;var e=this,t=null;if(this._initializeAttempted=!0,0===this._config.order.length)return this._ready.reject(new Error("No handlers specified in the ordering")),this.ready;for(var o=n.map(this._config.order,function(e){return function(){t=null;var n=i[e];return t=n,n.init()}}),a=r.resolve().then(o.shift());o.length>0;)a=a.caught(o.shift());return a.caught(function(t){return e._ready.reject(new Error("All handlers failed to initialize")),r.reject(new Error("All handlers failed to initialize"))}).then(function(){e._handler=t,e._ready.resolve(),e._initialized=!0}),e.ready},t.prototype._get=function(e){var t=this;return this._initialized?"string"!=typeof e?r.reject(new Error("Key must be a string. Got: "+typeof e)):this._handler.get(e):this._init().then(function(){return t._get(e)})},t.prototype.get=function(e,t){return this._get(e).then(function(e){return null===e||void 0===e?r.resolve(t):r.resolve(e.value)})},t.prototype.getMeta=function(e){return this._get(e).then(function(e){return e?r.resolve(e.meta):r.resolve(e)})},t.prototype.set=function(e,t,n){var i=this;return this._initialized?"string"!=typeof e?r.reject(new Error("Key must be a string. Got: "+typeof e)):"string"!=typeof t?r.reject(new Error("Value must be a string. Got: "+typeof t)):this._handler.set(e,t,n):this._init().then(function(){return i.set(e,t,n)})},t.prototype.remove=function(e){var t=this;return this._initialized?"string"!=typeof e?r.reject(new Error("Key must be a string. Got: "+typeof e)):this._handler.remove(e):this._init().then(function(){return t.remove(e)})},t.prototype.config=function(e){var r=n.extend(this._config,e);return new t(r)},new t}),define("sc-header-footer-responsive/javascript/desktop/views/header-view",["require","sc-header-footer-responsive/javascript/lib/lodash.custom","jquery","backbone","eventmanager","sc-header-footer-responsive/javascript/lib/menuAim","sc-header-footer-responsive/javascript/lib/cookieManager","sc-header-footer-responsive/javascript/auto-complete/SuggestionsView","persistence-manager"],function(e){var t,n=e("sc-header-footer-responsive/javascript/lib/lodash.custom"),r=e("jquery"),i=e("backbone"),o=e("eventmanager"),a=e("sc-header-footer-responsive/javascript/lib/menuAim"),s=e("sc-header-footer-responsive/javascript/lib/cookieManager"),u=e("sc-header-footer-responsive/javascript/auto-complete/SuggestionsView");try{t=e("persistence-manager")}catch(c){t=void 0}var l,f=n.template(r("script.cartCountTpl").html()),h=n.template(r("script.browserIsOldMsgTpl").html()),p=i.View.extend({timeoutDuration:350,timeout:null,forced:!1,initialize:function(){this.listenTo(o,"addToCart:done:success header:update-count",this.onAddToCartSuccess),this.listenTo(o,"header:log-in",this.refreshAccountSection),r.fn.menuAim=function(e){return this.each(function(){a.init.call(this,e)}),this}},events:{"click .skip":"onClickSkip","click .sign-out":"onClickSignOut","submit form[name=frmSearch]":"onSubmitSearch","click .js-navitem":"onClickNavItem","focus .js-navitem":"onFocusItem","focus a, input, button":"onElementFocus","blur  .js-navitem":"offFocusItem","touchstart .taphover":"onTapNavItem","click .fly-out":"flyoutMenuToggle","keydown .main-nav":"handleKeyPress","click .clear-search-icon":"onClickClearSearch","mouseenter .main-nav":"onMouseenterNavItem","mouseleave .main-nav":"onMouseleaveNavItem","click a.iemsg-close-warning":"onCloseWarning"},postRender:function(){var e=this;r("body").on("click touchend",function(t){r(t.target).parents().is("#header")||(e.hideMenus(),e.reopenForcedMenu())});var i=s.get("DYN_USER_ID");null!==i&&this.$("#logout-session-id").val(n.escape(i)),r("#header").hasClass("ie8-below")&&!s.get("hideEnvWarning")&&this.renderBrowserMsg();var a=this;if(r(".sub-nav-group").menuAim({activate:function(e){a.showMenu({currentTarget:e})},deactivate:function(e){var t=r(e);t.removeClass("active"),t.find(".js-subnav").hide(),a.hideMenus({currentTarget:e}),e=null},exitMenu:function(){return!0}}),this.shouldRetainSearchTerm(window.location.href)&&t&&t.get("searchTerm","").then(function(e){r("input[name=st]").val(e),a.onKeyupShowClearIcon()}),"undefined"!=typeof suggestionsEnabled){new u({el:r("#gh-search-input"),channel:"www",totalCount:10,uniqueTerms:!0,onSelectItem:this.onSelectItem,onKeyUpOptions:this.onKeyupShowClearIcon})}o.trigger("header:ready")},onFocusItem:function(e){r(e.currentTarget).addClass("active")},onElementFocus:function(e){r(e.currentTarget).parents().hasClass("profile-wrap")?r(".profile-menu").show():r(".profile-menu").hide()},offFocusItem:function(e){r(e.currentTarget).hasClass("main-nav")?r(e.currentTarget).removeClass("active"):(r(e.currentTarget).removeClass("active"),r(e.currentTarget).children(".fly-out").attr("aria-expanded","false"))},flyoutMenuToggle:function(e){r(e.currentTarget).siblings(".js-subnav").hasClass("active")?(r(e.currentTarget).siblings(".js-subnav").removeClass("active"),r(e.currentTarget).siblings(".sub-childnav").hide(),r(".fly-out").attr("aria-expanded","false"),e.stopPropagation()):(r(e.currentTarget).siblings(".js-subnav").addClass("active"),r(e.currentTarget).siblings(".sub-childnav").show(),r(".fly-out").attr("aria-expanded","false"),r(e.currentTarget).attr("aria-expanded","true"),e.stopPropagation())},onSelectItem:function(e,t){var n=r(".search-bar").find("form"),i=r("#gh-search-input").val();if(e)if(n.find('input[name="st"]').val(e.term),n.find(".selected").hasClass("category")){var a=e.category;a&&a.length&&n.find('input[name="qp"]').val("category_facet=SAAS~"+a[0].name+"~"+a[0].id),o.trigger("Header:Search:Submit",{autocomplete:{partialTerm:i,selectedTerm:e.term,selectedCategory:e.category[0].name}})}else n.find('input[name="qp"]').val(""),o.trigger("Header:Search:Submit",{autocomplete:{partialTerm:i,selectedTerm:e.term}});t&&n.submit()},onAddToCartSuccess:function(e){this.renderCartCount(e)},renderCartCount:function(e){e.quantity&&e.quantity>0?this.$(".count-container").html(f(e)):this.$(".count-container").html("")},renderBrowserMsg:function(){this.$(".browser-check").html(h())},onCloseWarning:function(){s.set("hideEnvWarning",!0),this.$(".browser-check").hide()},onClickSignOut:function(e){e.preventDefault(),this.$("form[name=logoutForm]").submit()},onClickSkip:function(e){var t=e.currentTarget,n="#"+t.href.split("#")[1];r(n).attr("tabindex",-1).on("blur focusout",function(){r(t).removeAttr("tabindex")}).focus()},onSubmitSearch:function(e){var n=this.$("input[name=st]"),i=r(".search-bar form").find("li"),a=r.trim(n.val());("Search BestBuy.com"===a||""===a||"%"===a)&&e.preventDefault(),t&&t.set("searchTerm",a),i.hasClass("selected")||o.trigger("Header:Search:Submit")},onKeyupShowClearIcon:function(){var e=r("#gh-search-input"),t=r(".clear-search-icon");e.val().length>=1?t.css("display","block"):t.css("display","none")},onClickClearSearch:function(e){e.preventDefault(),this.clearSearchField()},clearSearchField:function(){var e=this.$("#gh-search-input"),n=this.$(".clear-search-icon");t&&t.remove("searchTerm"),e.val("").focus(),n.css("display","none")},handleKeyPress:function(e){var t=e.keyCode,n=r(document.activeElement);switch(t){case 37:if(n.parent().hasClass("main-nav")){var i=r(e.currentTarget).prev(".main-nav");i.length&&(r(e.currentTarget).removeClass("active"),r(e.currentTarget).children("a:first").attr("aria-expanded","false"),r(".sub-nav").hide(),i.addClass("active"),i.children("a:first").attr("aria-expanded","true"),i.children(".sub-nav").show(),i.children(":first").focus())}else n.siblings(".sub-childnav").hide(),n.siblings(".fly-out").attr("aria-expanded","false");break;case 38:e.preventDefault(),n.parent().hasClass("main-nav")||(n.siblings(".sub-childnav").hide(),n.parent().prev().length?n.parent().prev().find("a:first").focus():n.closest(".main-nav").find("a:first").focus());break;case 39:if(n.parent().hasClass("main-nav")){var o=r(e.currentTarget).next(".main-nav");o.length&&(r(e.currentTarget).children("a:first").attr("aria-expanded","false"),r(e.currentTarget).removeClass("active"),r(".sub-nav").hide(),o.addClass("active"),o.children("a:first").attr("aria-expanded","true"),o.children(".sub-nav").show(),o.children(":first").focus())}else n.siblings(".sub-childnav").show(),n.siblings(".fly-out").attr("aria-expanded","true");break;case 40:e.preventDefault(),n.parent().hasClass("main-nav")?n.parent().find(".sub-nav-group").find("a:first").focus():(n.siblings(".sub-childnav").hide(),n.parent().next().find("a:first").focus());break;case 27:n.closest(".sub-nav").closest(".main-nav").children("a:first").focus(),r(".sub-nav").hide()}e.stopPropagation()},onClickNavItem:function(e){"#"===r(e.target).attr("href")&&e.preventDefault(),this.isIEtouchDevice()&&this.handleTouchIEClick(e),this.showMenu({style:"sticky",currentTarget:e.currentTarget,actualTarget:e.target})},onTapNavItem:function(e){var t=r(e.currentTarget);if(t.hasClass("hover")){var n=t.children("a:first").attr("href");window.location.replace(n)}else e.preventDefault(),t.addClass("hover"),r("li.taphover").not(t).removeClass("hover"),this.showMenu({currentTarget:e.currentTarget})},onMouseenterNavItem:function(e){var t=r(e.target).closest(".js-navitem")[0],n=this;this.timeout?setTimeout(function(){n.showMenu({currentTarget:t})},200):this.showMenu({currentTarget:t})},onMouseleaveNavItem:function(e){var t=r(e.currentTarget),n=t.data("sticky"),i=t.data("force"),o=this;n||i||(t.removeClass("active"),t.find(".js-subnav").hide(),t.children(".fly-out").attr("aria-expanded","false"),o.reopenForcedMenu(),o.timeout=null)},forceMenu:function(e){this.forced=e,this.showMenu({style:"force",currentTarget:this.$("."+e+"Menu")[0]})},unforceMenu:function(e){this.$("."+e+"Menu").data("force",!1),this.forced=!1,this.hideMenus()},showMenu:function(e){var t=r(e.currentTarget);this.hideMenus({currentTarget:e.currentTarget});var n=t.children(".sub-childnav").find("a.imgWrap");switch(t.hasClass("servicesMenu")&&(n=t.find("a.imgWrap")),n&&n.length&&this.generatePiscesUrl({targAnchor:n,data:n.data()}),e.style){case"sticky":t.data("sticky")===!0?(t.removeClass("active"),t.children(".js-subnav").hide(),t.find(".fly-out").attr("aria-expanded","false"),t.data("sticky",!1),t.hasClass("main-nav")&&t.children("a:first").attr("aria-expanded","false"),this.reopenForcedMenu()):(t.addClass("active"),t.children(".js-subnav").show(),t.data("sticky",!0),t.find(".fly-out").attr("aria-expanded","false"),t.hasClass("main-nav")?t.children("a:first").attr("aria-expanded","true"):t.children(".fly-out").attr("aria-expanded","true"));break;case"force":t.addClass("active"),t.children(".js-subnav").show(),t.find(".fly-out").attr("aria-expanded","false"),t.hasClass("main-nav")?t.children("a:first").attr("aria-expanded","true"):t.children(".fly-out").attr("aria-expanded","true"),t.data("force",!0);break;default:clearTimeout(this.timeout),t.data("sticky")!==!0&&(clearTimeout(this.timeout),t.addClass("active"),t.children(".js-subnav").show(),t.find(".fly-out").attr("aria-expanded","false"),t.hasClass("main-nav")?t.children("a:first").attr("aria-expanded","true"):t.children(".fly-out").attr("aria-expanded","true"))}},hideMenus:function(e){var t=this;this.$(".js-navitem").each(function(n,i){var o=r(i),a=!1,s=!1,u=!1,c=!1,l=!0;if(e&&e.currentTarget){var f=r(e.currentTarget),h=f.parents(".js-navitem");h[0]===i&&(s=!0),e.currentTarget===i&&(a=!0),u=f.hasClass("js-forceexempt"),o.data("force")&&(c=!0),c&&u&&(l=!1)}l||t.reopenForcedMenu(),a||s||!l||(o.removeClass("active"),o.find(".js-subnav").hide(),o.hasClass("main-nav")?o.children("a:first").attr("aria-expanded","false"):o.find(".fly-out").attr("aria-expanded","false"),o.data("sticky",!1))})},reopenForcedMenu:function(){this.forced&&this.showMenu({style:"force",currentTarget:this.$("."+this.forced+"Menu")[0]})},isIEtouchDevice:function(){return"ontouchstart"in window||"onpointerenter"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},handleTouchIEClick:function(e){var t=r(e.target);if(t.parent().hasClass("js-navitem"))e.stopPropagation();else{var n=t.parent().attr("href");"a"===e.target.tagName.toLowerCase()?window.location.replace(e.target.href):n.length>0&&window.location.replace(n)}},shouldRetainSearchTerm:function(e){return e.indexOf("st=")<0||e.indexOf("/promo/")>-1||e.indexOf("browsedCategory=")>-1?!1:!0},refreshAccountSection:function(){this.$(".js-account-wrapper").load("/browse-api/3.0/fragment/header .js-account-body")},generatePiscesUrl:function(e){var t={path:e.data.imgPath,alt:e.data.imgAlt,width:e.data.imgWidth,height:e.data.imgHeight,display:!0},i=window.location.protocol,o="http://pisces.bbystatic.com/image2/";"https:"==i&&(o="https://pisces-ssl.bbystatic.com/image2/");var a=n.template('	<img src="'+o+'<%= image.path %>;canvasHeight=<%= image.height %>;canvasWidth=<%= image.width %>"   alt="<%= image.alt %>" 	width="<%= image.width %>"    height="<%= image.height %>"     />');r(e.targAnchor).html(a({image:t}))}});return p.instance=function(){return l||(l=new p({el:r("#header")})),l},p}),define("sc-header-footer-responsive/javascript/lib/models/EmailCollectorModel",["require","backbone","eventmanager"],function(e){var t,n=e("backbone"),r=e("eventmanager"),i=n.Model.extend({validate:function(e){var t=e.email,n=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[a-z]{2,})\b/i;return"string"!=typeof t||n.test(t)?void 0:(window.trackEvent&&trackEvent.event("event.link",{lid:"email_capture_footer_error_invalid"}),r.trigger("Footer:Email:Submit:Invalid",e),"not a valid email address")},setUrl:function(e){this.url=e},sync:function(e,t){var n=t.get("email");return $.ajax({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({emailAddress:n}),url:this.url})}});return i.getInstance=function(){return t||(t=new i),t},i}),define("sc-header-footer-responsive/javascript/lib/EmailCollectorView",["require","backbone","eventmanager","./models/EmailCollectorModel"],function(e){var t=e("backbone"),n=e("eventmanager"),r=e("./models/EmailCollectorModel");return t.View.extend({initialize:function(){this.emailCollector=r.getInstance();var e=this.$el.data("ssl-env")+"profile/rest/a/emailsub/enroll";this.emailCollector.setUrl(e),this.emailCollector.on("invalid",this.renderInvalid)},events:{"submit #footer-email-form":"saveModel","click .system-error-retry":"removeError"},renderSuccess:function(){var e=this.$("#footer-email-form input[type=text]");window.trackEvent&&trackEvent.event("event.link",{lid:"email_capture_footer_success"}),n.trigger("Footer:Email:Submit:Success",{email:e.val()}),this.$(".header-icon-warning.form-validation-error").hide(),this.$("#footer-email-form input[type='text']").hide(),this.$("#footer-email-form input[type='submit']").hide(),this.$("#footer-email-form input[type='submit']").after($(".success-message"))},renderError:function(e){var t=this.$("#footer-email-form input[type=text]");window.trackEvent&&trackEvent.event("event.link",{lid:"email_capture_footer_error_sys"}),n.trigger("Footer:Email:Submit:Error",{email:t.val()}),this.$(".header-icon-warning.form-validation-error").hide(),this.$("#footer-email-form input[type='text']").addClass("error"),this.$("#footer-email-form input[type='text']").hide(),this.$("#footer-email-form input[type='submit']").hide(),this.$("#footer-email-form input[type='submit']").after($(".system-error-message"))},removeError:function(){this.$("#footer-email-form input[type='text']").removeClass("error"),this.$(".email-validation-messages").append($(".system-error-message")),this.$("#footer-email-form input[type='text']").show(),this.$("#footer-email-form input[type='submit']").show()},renderInvalid:function(){var e=$(".syntax-error-message").text();$("#footer-email-form").prepend("<span class='error messages'><span class='message'>"+e+"</span></span>"),$("#footer-email-form input[type='text']").addClass("validation-error"),$(".header-icon-warning.form-validation-error").show()},saveModel:function(e){var t=this,n=this.$("#footer-email-form input[type=text]"),r=this.$("#footer-email-form .error.messages"),i=n.val().replace(/\s+/g,""),o=this.emailCollector.save({email:i});n.removeClass("error"),r.remove(),o&&o.then(function(e){e&&t.renderSuccess()},function(e){e&&t.renderError(e)}),e.preventDefault()}})}),define("sc-header-footer-responsive/javascript/desktop/views/footer-view",["require","sc-header-footer-responsive/javascript/lib/lodash.custom","backbone","sc-header-footer-responsive/javascript/lib/cookieManager","../../lib/EmailCollectorView"],function(e){var t=e("sc-header-footer-responsive/javascript/lib/lodash.custom"),n=e("backbone"),r=e("sc-header-footer-responsive/javascript/lib/cookieManager"),i=e("../../lib/EmailCollectorView");return n.View.extend({initialize:function(){this.emailCollectorView=new i({el:$("#footer .footer-email")})},events:{"click .mobile-redirect":"onClickMobileRedirect","click .translate":"onClickTranslate","click .feedback-link":"onClickFeedbackLink"},onClickMobileRedirect:function(e){e.preventDefault(),r.set("bby_rdp","s","",".bestbuy.com"),document.cookie="mob_optout=; expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.bestbuy.com; path=/;",location.reload()},onClickTranslate:function(e){e.preventDefault(),this.switchLanguage()},switchLanguage:function(){var e=["www.bestbuy.com","www-ssl.bestbuy.com"],n=["espanol.bestbuy.com","espanol-ssl.bestbuy.com"],r=document.location,i="http://"+n[0]+"/";t.each(e,function(e,t){r.host===e&&(i=r.protocol+"//"+n[t]+r.pathname+r.search)}),t.each(n,function(t,n){r.host===t&&(i=r.protocol+"//"+e[n]+r.pathname+r.search)}),window.top.location.href=i},onClickFeedbackLink:function(e){e.preventDefault(),"undefined"!=typeof oo_feedback&&oo_feedback.show()}})}),require(["sc-header-footer-responsive/javascript/desktop/views/header-view","sc-header-footer-responsive/javascript/desktop/views/footer-view"],function(e,t){var n=e.instance();n.postRender();new t({el:$("#footer")})}),define("sc-header-footer-responsive/javascript/desktop/header-footer-bootstrap",function(){});