
<!-- saved from url=(0177)https://bestbuypsp.px.247inc.net/pspxd.html#parentdomain=http://www.bestbuy.com&clientkey=bestbuy-v1-001&version=20160114095200&pspv=default&n=1&caller=refloaded&l=1000&s=cookie -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
</head>
<body>
<script type="text/javascript">
/*!
 * 24/7 Customer, Inc. Confidential, Do Not Distribute. This is an
 * unpublished, proprietary work which is fully protected under
 * copyright law. This code may only be used pursuant to a valid
 * license from 24/7 Customer, Inc.
 */
function $undefinedOrNull(a){return SN.Utils.isUndefinedOrNull(a)}typeof SN=="undefined"&&(SN={}),SN.XDFrameMessagingUtils=function(){function f(a,c,f){try{if(!c)return;a=typeof a=="string"?a:encodeURIComponent(JSON.stringify(a).split(" ").join("")),f=f||parent,e&&f[b](a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}catch(g){d.error("errorWhileMakingPostMessage call to XD Iframe with message:"+a,g)}}function g(b,f,g){try{e&&(a[c]?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b))}catch(h){d.error("errorWhilereceivingMessage from XD Iframe:"+h)}}var a=this,b="postMessage",c="addEventListener",d=SN.Utils,e=a[b],h={postMessage:f,receiveMessage:g};return h}(),JSON=function(){function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}function stringify(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}function parse(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep,me={parse:parse,stringify:stringify};return me}(),typeof SN=="undefined"&&(SN={}),SN.Utils=function(){function m(a){var b=new RegExp("[\\?&#]"+a+"=([^&#]*)"),c=b.exec(location.href);return s(c)?"":decodeURIComponent(c[1])}function n(){return b.indexOf(l)!=-1?!0:!1}function o(){if(!c||i>f)return;typeof console.warn!=a&&(Prototype.Browser.Gecko?console.warn.apply(console,arguments):console.warn(formatLogMsg(arguments)))}function p(){if(!c||i>e)return;typeof console.error!=a&&(Prototype.Browser.Gecko?console.error.apply(console,arguments):console.error(formatLogMsg(arguments)))}function q(){if(!c||i>h)return;typeof console.info!=a&&(Prototype.Browser.Gecko?console.info.apply(console,arguments):console.info(formatLogMsg(arguments)))}function r(){if(!c||i>g)return;typeof console.debug!=a?Prototype.Browser.Gecko?console.debug.apply(console,arguments):console.log(formatLogMsg(arguments)):n()&&console.log(j+formatLogMsg(arguments))}function s(a){return a==null||a==""}function t(b){return typeof b===a||b==null||b==="null"}function u(){var a=document.location.href,b=a.split("#");if(t(b[1]))return;var c=b[1].split("&"),d="l",e="clientkey";for(var f=0;f<c.length;f++){var g=c[f].split("=");g[0]==d?loglevel=g[1]:g[0]==e&&(k=g[1])}}function v(){return k}var a="undefined",b=navigator.userAgent,c=typeof console!=a,d=1e3,e=400,f=300,g=200,h=100,i=d,j="INFO: ",k=null,l="MSIE",w={warn:o,error:p,debug:q,info:r,readParam:m,getClientKey:v,isUndefinedOrNull:t};return u(),w}(),SN.XDStorageHandler=function(){function n(a){$undefinedOrNull(a)&&b.error("data is undefined: check the object");if($undefinedOrNull(localStorage)){b.error("Local Storage is not supported");return}for(var f in a){var g=a[f].cvalue,h=(new Date).getTime(),i="",j=a[f].clifetime;j+=h,i=g+e+j;var k=c+d+f;localStorage.setItem(k,i)}}function o(a){var b=null,c=location.hash;c=c.replace(m,"");var d=c.split("&");for(var e=0;e<d.length;e++){var f=d[e].split("=");if(f[0]==a){b=f[1];break}}return b}function p(a){var b=["sn.vi","sn.wt","sn.rn","sn.vc","sn.ui","sn.as"],f={},g="",h="";$undefinedOrNull(a)?h=d:h=a;var i=o("s");for(var j=0;j<b.length;j++){g=c+h+b[j];if(g in localStorage){var k=(new Date).getTime();f[b[j]]={};var l=localStorage.getItem(g);i=="server"&&b[j]!="sn.vi"&&localStorage.removeItem(g);if(!$undefinedOrNull(l)){f[b[j]].cvalue=l.split(e)[0];var m=l.split(e)[1],n=m-k;f[b[j]].clifetime=n}}}return f}function q(){var a={};a=p();for(var b in a){var e=a[b].clifetime;if(e<0){var f=c+d+b;localStorage.removeItem(f);if(b=="sn.vi"){for(var g in a)f=c+d+g,localStorage.removeItem(f);break}}}x()}function r(){i=setInterval(q,g)}function s(){var a=p("#");for(var b in a)a[b].cvalue=a[b].cvalue.replace(/#/g,"||"),oldKey=c+"#"+b,localStorage.removeItem(oldKey);n(a)}function t(){l=JSON.parse(localStorage.getItem(c+"_sn_ct_reg")),$undefinedOrNull(l)&&(l={}),s(),document.domain==f&&r(),document.domain==f&&y()}function u(a){var b=a.key,d=a.value,e=a.lifeTime,f=(new Date).getTime()+e;localStorage.setItem(c+"_sn_ct_"+b,d),l[b]=f,localStorage.setItem(c+"_sn_ct_reg",JSON.stringify(l))}function v(a){var b=a.key;localStorage.removeItem(c+"_sn_ct_"+b),delete l[b],localStorage.setItem(c+"_sn_ct_reg",JSON.stringify(l))}function w(a){var b=a.key,d=localStorage.getItem(c+"_sn_ct_"+b),e={};return e.key=b,e.value=d,e}function x(){for(var a in l){var b=l[a];(new Date).getTime()>=b&&(localStorage.removeItem(c+"_sn_ct_"+a),delete l[a],localStorage.setItem(c+"_sn_ct_reg",JSON.stringify(l)))}}function y(){i=setInterval(q,g)}var a="sn.vi",b=SN.Utils,c=b.getClientKey(),d="||",e="+",f=document.domain||"psp.247ilabs.com",g=1e4,h=3e4,i=null,j=!0,k=null,l=null,m="#",z={storeData:n,retrieveData:p,checkStoreLifetime:q,initialize:t,setLocalStorageData:u,removeLocalStorageData:v,getLocalStorageData:w};return t(),z}(),SN.PSPXD={},SN.PSPXD.Proxy=function(){function n(a){var b=null,c=location.hash;c=c.replace(e,"");var d=c.split("&");for(var f=0;f<d.length;f++){var g=d[f].split("=");if(g[0]==a){b=g[1];break}}return b}function r(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return window.XMLHttpRequest?new XMLHttpRequest:null;for(var b=0;b<a.length;b++)try{return new ActiveXObject(a[b])}catch(c){SN.Utils.error("exception while trying to get new activeXobject  : ",c)}}function s(a,b){if(a==c){u(b);return}if(a=="setXdData")m.storeData(b);else if(a=="setlocalstorageitem"){m.setLocalStorageData(b);var e={};e.uniqueId=b.uniqueId,e.key=b.key;var f="cmd=setlocalstorageitem";f=f+"&params="+JSON.stringify(e),window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(f,q,parent)},5)}else if(a=="removelocalstorageitem"){m.removeLocalStorageData(b);var e={};e.uniqueId=b.uniqueId,e.key=b.key;var f="cmd=removelocalstorageitem";f=f+"&params="+JSON.stringify(e),window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(f,q,parent)},5)}else if(a=="getlocalstorageitem"){var e=m.getLocalStorageData(b);e.uniqueId=b.uniqueId;var f="cmd=getlocalstorageitem";f=f+"&params="+JSON.stringify(e),window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(f,q,parent)},5)}else a==d?v(b):SN.Utils.info("SN.PSPXD.runProxy:Nothing to do")}function t(){var a=SN.Utils,b=a.readParam("cmd"),c=a.readParam("params");s(b,c)}function u(a){var b=new r;b.onreadystatechange=function(){if(b.readyState==4)if(b.status==200||window.location.href.indexOf(j)==-1){var a="cmd="+i;a=a+"&params="+b.responseText;try{window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(a,q,parent)},5)}catch(c){SN.Utils.error("errorWhileMakingPostMessage call to XD Iframe",c)}}else SN.Utils.error("SN.PSPXD : An error has occured making the request")};var c=a,d="",e=!0;for(var f in c)e?(e=!1,d=f+"="+c[f]):d=d+"&"+f+"="+c[f];b.open(k,o,!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.send(d)}function v(a){var b=new r;b.onreadystatechange=function(){if(b.readyState==4)if(b.status==200||window.location.href.indexOf(j)==-1){var a="cmd="+d;a=a+"&params="+b.responseText;try{window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(a,q,parent)},5)}catch(c){SN.Utils.error("errorWhileMakingPostMessage call to XD Iframe",c)}}else SN.Utils.error("SN.XD : An error has occured making the request")};var c=a,e="",f=!0;for(var g in c)f?(f=!1,e=g+"="+c[g]):e=e+"&"+g+"="+c[g];b.open(k,p,!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.send(e)}function x(){try{var a={};a.key="sn.cbr";var b=m.getLocalStorageData(a);if(typeof b!="undefined"&&b.value&&b.value!=""){var c=JSON.parse(b.value).eventTime;if(w==c)return;w=c;var d="cmd=setCobrowseData&params="+JSON.stringify(b);SN.XDFrameMessagingUtils.postMessage(d,q,parent)}}catch(e){SN.Utils.error("Error while notifying load event to parent:"+e)}}function y(){try{if($undefinedOrNull(n("n")))return;var a={};a.loaded=n("caller"),m.checkStoreLifetime(),a.data=m.retrieveData();var b="cmd=iframeLoaded&params="+JSON.stringify(a);SN.XDFrameMessagingUtils.postMessage(b,q,parent)}catch(c){SN.Utils.error("Error while notifying load event to parent:"+c)}}function z(a){window.addEventListener?window.addEventListener("storage",a,!1):document.attachEvent("onstorage",a)}function A(){try{l=n("pspv"),o=location.protocol+f+n(a)+"/"+l+g,p=location.protocol+f+n(a)+"/"+l+h}catch(b){SN.Utils.error("Error while initializing pspVersion and PSP_RUN_CALL:"+b)}}function B(){SN.XDFrameMessagingUtils.receiveMessage(function(a){var b=a.data,c="";try{var d=JSON.parse(b);c=d.cmd;var e=d.params}catch(f){SN.Utils.error("Badly formed JSON, the request is not meant for this listener: ",f)}s(c,e)},q),z(x)}var a="clientkey",b="parentdomain",c="serverCall",d="sendServerData",e="#",f="//"+document.domain+"/psp/",g="/run",h="/v0/data/pxoe/set/",i="serverResponse",j="http",k="POST",l=null,m=SN.XDStorageHandler,o=null,p=null,q=n(b),w=0,C={runProxy:t};return A(),B(),y(),C}(),SN.PSPXD.Proxy.runProxy()
</script>


</body></html>